- [Предоставление Bybit URL](#предоставление-bybit-url)
- [Метод HTTP](#метод-http)
- [Аутентификация](#аутентификация)
- [Получаемые заголовки от Bybit](#получаемые-заголовки-от-bybit)
- [Получаемое тело от Bybit](#получаемое-тело-от-bybit)

<a id="предоставление-bybit-url"></a>

## Предоставление Bybit URL

Предоставить свой url на который bybit будет отправлять уведомления можно в запросе
[Подтвердить предложение конвертации](</Asset/Fiat Convert/Подтвердить предложение конвертации.md>) в параметре
запроса `webhookUrl`

<a id="метод-http"></a>

## Метод HTTP

На вашем сервере нужно реализовать конечную точку которую вы указали в параметре `webhookUrl` метода HTTP
обязательно `POST`

<a id="аутентификация"></a>

## Аутентификация

Поделитесь друг с другом списком разрешенных IP-адресов.

<a id="получаемые-заголовки-от-bybit"></a>

## Получаемые заголовки от Bybit

- HTTP

  ```http
  Content-Type: application/json
  timestamp: 1720074159814
  publicKey: <RSA_public_key от биржи bybit>
  signature: <signature от bybit>
  ```

<a id="получаемое-тело-от-bybit"></a>

## Получаемое тело от Bybit

Тело запроса имеет формат JSON и содержит следующие поля

|Параметр       |Тип       |Комментарии                                             |
|---------------|----------|--------------------------------------------------------|
|tradeNo     	|string	   |Номер торгового ордера                                      |
|status         |string	   |Статус: `processing`, `success` или `failed`                      |
|quoteTxId	    |string	   |ID котировочной транзакции.<br>Сгенерировано системой, используется для подтверждения предложения.|
|exchangeRate	|string	   |Обменный курс                                                          |
|fromCoin	    |string	   |Исходная монета (продаваемая)                                     |
|fromCoinType	|string	   |Тип fromCoin: `fiat` или `crypto`                                |
|toCoin         |string	   |Целевая монета (покупаемая)                                        |
|toCoinType	    |string	   |Тип toCoin: `fiat` или `crypto`                                        |
|fromAmount     |string	   |Количество исходной монеты                                         |
|toAmount	    |string	   |Количество целевой монеты                                   |
|createdAt	    |string	   |Время создания сделки                                                          |
