- [Информация](#информация)
- [Конечная точка](#конечная-точка)
- [Примеры запроса](#примеры-запроса)
- [Параметры запроса](#параметры-запроса)
- [Примеры ответа](#примеры-ответа)
- [Параметры ответа](#параметры-ответа)

<a id="информация"></a>

Запрашивает исторические свечи индексных цен. Графики возвращаются группами на основе заданного интервала.

>Охватывает:
>USDT контракт / USDC контракт / Inverse контракт

## Конечная точка

`/v5/market/index-price-kline`

<a id="примеры-запроса"></a>

## Примеры запроса

- HTTP

  ```bash
  GET /v5/market/index-price-kline?category=inverse&symbol=BTCUSDZ22&interval=1&start=1670601600000&end=1670608800000&limit=2 HTTP/1.1
  Host: api-testnet.bybit.com
  ```

- Python

  ```python
  import requests

  base_url = "https://api-testnet.bybit.com"
  end_point = "/v5/market/index-price-kline"

  complete_request = base_url + end_point
  parameters = {
      "category": "inverse",
      "symbol": "BTCUSDZ22",
      "interval": "1",
      "start": 1670601600000,
      "end": 1670608800000,
      "limit": 2
  }
  
  response = requests.get(url=complete_request, params=parameters, timeout=10)

  print(response.json())
  ```

- pybit

  ```python
  from pybit.unified_trading import HTTP

  session = HTTP(testnet=True)
  print(session.get_index_price_kline(
      category="inverse",
      symbol="BTCUSDZ22",
      interval=1,
      start=1670601600000,
      end=1670608800000,
      limit=2,
  ))
  ```

<a id="параметры-запроса"></a>

## Параметры запроса

|Параметр  	            	            	            	            |Обязательный  |Тип       |Комментарии                                          |По умолчанию|
|-----------------------------------------------------------------------|--------------|----------|-----------------------------------------------------|------------|
|[category](<99.Определения значений в запросах и ответах#category>)	|нет           |string    |Тип продукта: `spot`, `linear`, `inverse`, `option`  |linear      |
|symbol	                                                                |да            |string    |Имя символа                                          |-           |
|[interval](<99.Определения значений в запросах и ответах#interval>)    |да            |string    |Интервал свечей                                      |-           |
|start	           	            	            	                    |нет           |integer   |Временная метка начала (мс)                          |-           |
|end               	            	            	                    |нет      	   |integer   |Временная метка окончания (мс)                       |-           |
|limit	            	            	            	                |нет      	   |integer   |Лимит на размер данных на страницу. [1, 1000]        |200         |

<a id="примеры-ответа"></a>

## Пример ответа

```json
{
    "retCode": 0,
    "retMsg": "OK",
    "result": {
        "symbol": "BTCUSDZ22",
        "category": "inverse",
        "list": [
            [
                "1670608800000",
                "17167.00",
                "17167.00",
                "17161.90",
                "17163.07"
            ],
            [
                "1670608740000",
                "17166.54",
                "17167.69",
                "17165.42",
                "17167.00"
            ]
        ]
    },
    "retExtInfo": {},
    "time": 1672026471128
}
```

<a id="параметры-ответа"></a>

## Параметры ответа

|Параметр  |Тип       |Комментарии                                                                              |
|----------|----------|-----------------------------------------------------------------------------------------|
|category  |string    |Тип продукта                                                                             |
|symbol    |string    |Символ                                                                                   |
|list      |array     |Массив строк индивидуальных свечей.<br>Сортируется в обратном порядке по startTime       |
|list[0]   |string    |Время начала свечи (мс)                                                                  |
|list[1]   |string    |Цена открытия                                                                            |
|list[2]   |string    |Максимальная цена                                                                        |
|list[3]   |string    |Минимальная цена                                                                         |
|list[4]   |string    |Цена закрытия. Является последней ценой сделки, если свеча не закрыта                    |
