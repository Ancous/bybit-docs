- [Информация](#информация)
- [Конечная точка](#конечная-точка)
- [Примеры запроса](#примеры-запроса)
- [Параметры запроса](#параметры-запроса)
- [Примеры ответа](#примеры-ответа)
- [Параметры ответа](#параметры-ответа)

<a id="информация"></a>

Запрос на значение [открытого интереса](https://www.bybit.com/en-US/help-center/s/article/Glossary-Bybit-Trading-Terms) для каждого торгового символа.

>Зона применения:  
>
>`linear` - контракт (расчет в USDT, USDC, ...)
>
> - `Perpetual` - контракт без даты экспирации
> - `Futures` - контракт с датой экспирации
>
>`inverse` - контракт (расчет в BTC, ETH, ...)
>
> - `Perpetual` - контракт без даты экспирации
> - `Futures` - контракт с датой экспирации
<!-- -->
>Информация:
>
>- Максимально возможный диапазон времени запроса ограничен временем запуска торгового символа.

<a id="конечная-точка"></a>

## Конечная точка

`/v5/market/open-interest`

<a id="примеры-запроса"></a>

## Примеры запроса

- HTTP

  ```http
  GET /v5/market/open-interest?category=inverse&symbol=BTCUSD&intervalTime=5min&startTime=1669571100000&endTime=1669571400000 HTTP/1.1
  Host: api-testnet.bybit.com
  ```

- Python

  ```python
  import requests

  base_url = "https://api-testnet.bybit.com"
  end_point = "/v5/market/open-interest"

  complete_request = base_url + end_point
  parameters = {
      "category": "inverse",
      "symbol": "BTCUSDT",
      "intervalTime": "5min",
      "startTime": 1669571100000,
      "endTime": 1669571400000
  }
  
  response = requests.get(url=complete_request, params=parameters, timeout=10)

  print(response.json())
  ```

- pybit

  ```python
  from pybit.unified_trading import HTTP

  session = HTTP(testnet=True)
  print(session.get_open_interest(
      category="inverse",
      symbol="BTCUSD",
      intervalTime="5min",
      startTime=1669571100000,
      endTime=1669571400000,
  ))
  ```

<a id="параметры-запроса"></a>

## Параметры запроса

|Параметр  	                  |Обязательный	 |Тип   	  |Комментарии                       |По умолчанию|
|-----------------------------|--------------|----------|----------------------------------|------------|
|[category](<../20.Определения значений в запросах и ответах.md#category>)  |да            |string    |Тип продукта: `linear`, `inverse`     |-           |
|[symbol](<../20.Определения значений в запросах и ответах.md#symbol>)	  |да           |string    |Имя символа: `BTCUSDT`, только заглавными буквами |-           |
|[intervalTime](<../20.Определения значений в запросах и ответах.md#intervalTime>)  	       |да	 |string   	  |Интервал времени агрегации данных        |-    |
|startTime	              |нет           |integer   |Временная метка начала выборки (в миллисекундах)     |-           |
|endTime             |нет      	   |integer   |Временная метка конца выборки (в миллисекундах)      |-           |
|limit             |нет      	 |integer   |Ограничение размера данных на странице. [`1`, `200`]                                                           |`50`    |
|cursor	    |нет      	 |string    |Курсор. Используйте значение `nextPageCursor` из ответа для получения следующей страницы набора результатов   |-           |

<a id="примеры-ответа"></a>

## Пример ответа

```json
{
    "retCode": 0,
    "retMsg": "OK",
    "result": {
        "symbol": "BTCUSD",
        "category": "inverse",
        "list": [
            {
                "openInterest": "461134384.00000000",
                "timestamp": "1669571400000"
            },
            {
                "openInterest": "461134292.00000000",
                "timestamp": "1669571100000"
            }
        ],
        "nextPageCursor": ""
    },
    "retExtInfo": {},
    "time": 1672053548579
}
```

<a id="параметры-ответа"></a>

## Параметры ответа

|Параметр  |Тип       |Комментарии                                             |
|----------|----------|--------------------------------------------------------|
|category  |string       |Тип продукта                                             |
|symbol  |string       |Название символа                                             |
|list  |array       |Массив объектов с данными                                             |
|openInterest  |string       |Значение открытого интереса (open interest), сумма по обеим сторонам<br>Единица измерения зависит от символа: для BTCUSD (inverse) — в USD, для BTCUSDT (linear) — в BTC                                             |
|timestamp  |string       |Временная метка в миллисекундах (ms)                                             |
|nextPageCursor  |string       |Курсор для получения следующей страницы данных (для пагинации)                                             |
