- [Единый торговый аккаунт 2.0 (UTA 2.0)](#единый-торговый-аккаунт-2.0)
- [Единый торговый аккаунт 1.0 (UTA 1.0)](#единый-торговый-аккаунт-1.0)
- [Классический аккаунт](#классический-аккаунт)
- [Определение режима аккаунта через API](#определение-режима-аккаунта-через-api)
- [Изменения в использовании API для UTA 2.0](#изменения-в-использовании-api-для-uta-2.0)

<a id="единый-торговый-аккаунт-2.0"></a>

В настоящее время на платформе Bybit существует три режима аккаунтов: классический аккаунт, единый аккаунт
1.0 и единый аккаунт 2.0.

## Единый торговый аккаунт 2.0 (UTA 2.0)

Этот режим аккаунта является конечной версией единого аккаунта, объединяющей `inverse`, `linear`, `spot` и
`options` в единую торговую систему. В режимах кросс-маржи и портфельной маржи маржа распределяется между всеми
сделками в рамках «unified trading account».

<a id="единый-торговый-аккаунт-1.0"></a>

## Единый торговый аккаунт 1.0 (UTA 1.0)

В этом режиме счета сделки с `inverse` совершаются на отдельном торговом счете, и соответствующая валюта
маржи должна быть внесена на «inverse derivatives account» перед началом торговли, при этом маржа не распределяется между
ними. Торговля `linear`, `spot` и `options` осуществляется в рамках «unified trading account».

<a id="классический-аккаунт"></a>

## Классический аккаунт

В этом режиме аккаунта `inverse`, `linear` и `spot` разделены. Транзакции с `inverse`, `linear` завершаются в
"derivatives account", а спотовые транзакции — в "spot account".

<a id="определение-режима-аккаунта-через-api"></a>

## Определение режима аккаунта через API

Используйте ключ соответствующего аккаунта для вызова метода [Get Account Info](#) и посмотрите значение поля
`unifiedMarginStatus`:

|Значение       |	Режим аккаунта                  |
|---------------|-----------------------------------|
|`1`         	|классический аккаунт               |
|`3`	        |UTA 1.0                            |
|`4`	        |UTA 1.0 (профессиональная версия)  |
|`5`	        |UTA 2.0                            |
|`6`	        |UTA 2.0 (профессиональная версия)  |

>Примечание:  
>UTA и UTA (pro) — это по сути одинаковые режимы, но версия Pro имеет небольшое преимущество в производительности
>при торговле через API.

<a id="изменения-в-использовании-api-для-uta-2.0"></a>

## Изменения в использовании API для UTA 2.0

<table class="iksweb">
		<tr>
			<td rowspan="2"><b>Категория API</b></td>
			<td rowspan="2"><b>API</b></td>
			<td><b>UTA 2.0</b></td>
			<td><b>UTA 1.0</b></td>
		</tr>
		<tr>
			<td>category=inverse</td>
			<td>category=inverse</td>
		</tr>
		<tr>
			<td>Market</td>
			<td><a href="#">/v5/market/instruments-info</a></td>
			<td>"unifiedMarginTrade" имеет значение true после реализации UTA 2.0</td>
			<td>"unifiedMarginTrade" имеет значение false</td>
		</tr>
		<tr>
			<td rowspan="8">Trade</td>
			<td><a href="#">/v5/order/create</a></td>
			<td>Инверсные фьючерсы больше не поддерживают hedge-мод, поэтому "positionIdx" всегда `0`</td>
			<td>Инверсные фьючерсы поддерживают hedge-мод, поэтому "positionIdx" может быть `0`, `1`, `2`</td>
		</tr>
		<tr>
			<td><a href="#">/v5/order/realtime</a></td>
			<td>Для запроса заказов с конечным статусом используется `openOnly`=1, и сохраняются только последние 500 заказов</td>
			<td>Для запроса заказов с конечным статусом используется `openOnly`=2</td>
		</tr>
		<tr>
			<td><a href="#">/v5/order/history</a></td>
			<td>1. `orderStatus` не передаётся, по умолчанию запрашиваются все конечные заказы<br>2. Поддерживаются параметры `baseCoin` и `settleCoin`<br>3. Запрос активных заказов не поддерживается, некоторые конечные заказы ограничены для запроса<br>4. Отменённые заказы сохраняются до 24 часов<br>5. Могут быть запрошены только заказы, созданные после обновления</td>
			<td>1. `orderStatus` не передаётся, по умолчанию запрашиваются активные и конечные заказы<br>2. Параметры `baseCoin` и `settleCoin` не поддерживаются<br>3. Активные заказы и различные конечные заказы всегда поддерживаются<br>4. Нет такого ограничения</td>
		</tr>
		<tr>
			<td><a href="#">/v5/execution/list</a></td>
			<td>1. Поддерживает запрос по `baseCoin`<br>2. Возвращаемый `createType` имеет значение<br>3. Могут быть запрошены только транзакции, созданные после обновления</td>
			<td>1. Запрос по `baseCoin` не поддерживается<br>2. Возвращаемый `createType` всегда пустая строка `""`</td>
		</tr>
		<tr>
			<td><a href="#">/v5/order/create-batch</a></td>
			<td>Поддерживает инверсные контракты</td>
			<td>Не поддерживает инверсные контракты</td>
		</tr>
		<tr>
			<td><a href="#">/v5/order/amend-batch</a></td>
			<td>Поддерживает инверсные контракты</td>
			<td>Не поддерживает инверсные контракты</td>
		</tr>
		<tr>
			<td><a href="#">/v5/order/cancel-batch</a></td>
			<td>Поддерживает инверсные контракты</td>
			<td>Не поддерживает инверсные контракты</td>
		</tr>
		<tr>
			<td><a href="#">/v5/order/disconnected-cancel-all</a></td>
			<td>Поддерживает инверсные контракты; торговые заказы на инверсные будут отменены при срабатывании DCP</td>
			<td>Не поддерживает инверсные контракты; торговые заказы на инверсные не будут отменены при срабатывании DCP</td>
		</tr>
		<tr>
			<td rowspan="3">Pre-upgrade</td>
			<td><a href="#">/v5/pre-upgrade/order/history</a></td>
			<td>Поддерживает запрос заказов, созданных при состоянии классического аккаунта или единого аккаунта 1.0</td>
			<td>-</td>
		</tr>
		<tr>
			<td><a href="#">/v5/pre-upgrade/execution/list</td>
			<td>Поддерживает запрос транзакций, созданных при состоянии классического аккаунта или единого аккаунта 1.0</td>
			<td>-</td>
		</tr>
		<tr>
			<td><a href="#">/v5/pre-upgrade/position/closed-pnl</a></td>
			<td>Поддерживает запрос закрытого PnL, созданного при состоянии классического аккаунта или единого аккаунта 1.0</td>
			<td>-</td>
		</tr>
		<tr>
			<td rowspan="5">Position</td>
			<td><a href="#">/v5/position/list</a></td>
			<td>1. Передача нескольких символов не поддерживается<br>2. В ответе изменились значения или использование полей `tradeMode`, `liqPrice`, `bustPrice`</td>
			<td>1. Поддерживает передачу нескольких символов</td>
		</tr>
		<tr>
			<td><a href="#">/v5/position/closed-pnl</a></td>
			<td>Может быть запрошен только закрытый PnL, созданный после обновления</td>
			<td>-</td>
		</tr>
		<tr>
			<td><a href="#">/v5/position/set-leverage</a></td>
			<td>Инверсные perpetual и инверсные фьючерсы поддерживают только односторонний режим позиций, и плечо(leverage) для buy и sell должны быть равны</td>
			<td>Инверсные фьючерсы поддерживают hedge-режим позиций, и плечо(leverage) для buy и sell могут быть неравными</td>
		</tr>
		<tr>
			<td><a href="#">/v5/position/switch-isolated</a></td>
			<td>Режим маржи стал на уровне аккаунта, этот интерфейс больше не применим</td>
			<td>Инверсные контракты поддерживают использование этого интерфейса</td>
		</tr>
		<tr>
			<td><a href="#">/v5/position/switch-mode</a></td>
			<td>Инверсные фьючерсы больше не поддерживают hedge-режим позиций</td>
			<td>Инверсные фьючерсы поддерживают hedge-режим позиций</td>
		</tr>
		<tr>
			<td rowspan="3">Account</td>
			<td><a href="#">/v5/account/wallet-balance</a></td>
			<td>Не поддерживает accountType=CONTRACT</td>
			<td>Поддерживает accountType=CONTRACT</td>
		</tr>
		<tr>
			<td><a href="#">/v5/account/transaction-log</a></td>
			<td>Журналы транзакций для инверсных контрактов будут включены</td>
			<td>Журнал транзакций инверсного контракта необходимо получать через интерфейс ниже</td>
		</tr>
		<tr>
			<td><a href="#">/v5/account/contract-transaction-log</a></td>
			<td>После обновления до UTA 2.0 этот интерфейс больше не применим</td>
			<td>Данные из UTA 1.0 или классического аккаунта могут быть получены</td>
		</tr>
		<tr>
			<td rowspan="2">Asset</td>
			<td><a href="#">/v5/asset/delivery-record</a></td>
			<td>Поддерживает записи доставки инверсных фьючерсов</td>
			<td>Не поддерживает записи доставки инверсных фьючерсов</td>
		</tr>
		<tr>
			<td>Все интерфейсы, включающие `accountType` в этом каталоге</td>
			<td>CONTRACT больше не поддерживается, поскольку "inverse derivatives account" больше не существует</td>
			<td>Поддерживает CONTRACT (inverse derivatives account)</td>
		</tr>
		<tr>
			<td rowspan="2">WebSocket Stream/Trade</td>
			<td><a href="#">wss://stream.bybit.com/v5/trade</a></td>
			<td>Поддерживает инверсные контракты</td>
			<td>Не поддерживает инверсные контракты</td>
		</tr>
</table>
